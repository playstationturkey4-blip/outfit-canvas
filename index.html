<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FOWOGES</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>

/* ===== ОСНОВА ===== */

body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  background: #0f0f0f;
  color: white;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

header {
  padding: 20px;
  text-align: center;
  border-bottom: 1px solid #1f1f1f;
}

.logo {
  font-family: 'Playfair Display', serif;
  font-size: 38px;
  letter-spacing: 8px;
}

/* ===== НАВИГАЦИЯ ===== */

.nav-top, .bottom-nav {
  display: flex;
  justify-content: center;
  gap: 25px;
  padding: 10px;
  border-bottom: 1px solid #1f1f1f;
}

.bottom-nav {
  border-top: 1px solid #1f1f1f;
  margin-top: auto;
}

.nav-top button,
.bottom-nav button {
  background: none;
  border: none;
  color: #aaa;
  font-size: 14px;
  cursor: pointer;
}

.nav-top button.active,
.bottom-nav button.active {
  color: white;
  font-weight: 600;
}

/* ===== ЭКРАНЫ ===== */

.screen {
  flex: 1;
  display: none;
  padding: 20px;
  overflow-y: auto;
}

.screen.active {
  display: block;
}

/* ===== ГЛАВНАЯ ===== */

.hero {
  text-align: center;
  margin-top: 80px;
}

.hero h1 {
  font-size: 52px;
  font-family: 'Playfair Display', serif;
  letter-spacing: 6px;
}

.hero p {
  margin-top: 20px;
  font-size: 18px;
  color: #bbb;
}

.hero button {
  margin-top: 40px;
  padding: 14px 28px;
  background: white;
  color: black;
  border: none;
  font-weight: 600;
  cursor: pointer;
}

/* ===== СЕТКА ===== */

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px,1fr));
  gap: 15px;
}

.card {
  background: #1a1a1a;
  border-radius: 12px;
  padding: 10px;
  position: relative;
  cursor: pointer;
}

.card img {
  width: 100%;
  border-radius: 8px;
}

.delete-btn {
  position: absolute;
  top: 5px;
  right: 8px;
  cursor: pointer;
}

/* ===== ХОЛСТ ===== */

.canvas {
  width: 100%;
  height: 60vh;
  background: #1a1a1a;
  border-radius: 12px;
  position: relative;
  margin-bottom: 15px;
}

.canvas img {
  position: absolute;
  max-width: 120px;
  cursor: grab;
}

button.primary {
  padding: 10px 18px;
  background: white;
  color: black;
  border: none;
  cursor: pointer;
  margin-right: 10px;
}

</style>
</head>

<body>

<header>
  <div class="logo">FOWOGES</div>
</header>

<div class="nav-top">
  <button onclick="switchScreen('home')" class="active">Главная</button>
  <button onclick="switchScreen('wardrobe')">Гардероб</button>
  <button onclick="switchScreen('builder')">Создать</button>
  <button onclick="switchScreen('lookbook')">Образы</button>
</div>

<!-- ===== ГЛАВНАЯ ===== -->
<div id="home" class="screen active">
  <div class="hero">
    <h1>Redefine Your Wardrobe</h1>
    <p>Создавай образы. Управляй стилем. Вдохновляй мир.</p>
    <button onclick="switchScreen('builder')">Начать создавать</button>
  </div>
</div>

<!-- ===== ГАРДЕРОБ ===== -->
<div id="wardrobe" class="screen">
  <h2>Гардероб</h2>
  <div class="grid" id="wardrobeGrid"></div>
</div>

<!-- ===== СОЗДАТЬ ===== -->
<div id="builder" class="screen">
  <h2>Создать образ</h2>
  <div class="canvas" id="canvas"></div>
  <button class="primary" onclick="fileInput.click()">Добавить файлы</button>
  <button class="primary" onclick="saveOutfit()">Сохранить образ</button>
</div>

<!-- ===== ОБРАЗЫ ===== -->
<div id="lookbook" class="screen">
  <h2>Мои образы</h2>
  <div class="grid" id="outfitGrid"></div>
</div>

<div class="bottom-nav">
  <button onclick="switchScreen('home')" class="active">Главная</button>
  <button onclick="switchScreen('wardrobe')">Гардероб</button>
  <button onclick="switchScreen('builder')">Создать</button>
  <button onclick="switchScreen('lookbook')">Образы</button>
</div>

<input type="file" id="fileInput" accept="image/*" multiple style="display:none;">

<script>

let wardrobe = JSON.parse(localStorage.getItem("wardrobe")) || [];
let savedOutfits = JSON.parse(localStorage.getItem("outfits")) || [];

const wardrobeGrid = document.getElementById("wardrobeGrid");
const outfitGrid = document.getElementById("outfitGrid");
const canvas = document.getElementById("canvas");
const fileInput = document.getElementById("fileInput");

function switchScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.querySelectorAll(".nav-top button, .bottom-nav button").forEach(b=>b.classList.remove("active"));
  document.querySelectorAll(`[onclick="switchScreen('${id}')"]`).forEach(b=>b.classList.add("active"));
}

function renderWardrobe(){
  wardrobeGrid.innerHTML="";
  wardrobe.forEach((item,index)=>{
    const card=document.createElement("div");
    card.className="card";

    const img=document.createElement("img");
    img.src=item;
    img.onclick=()=>addToCanvas(item);

    const del=document.createElement("div");
    del.className="delete-btn";
    del.innerText="✕";
    del.onclick=()=>{
      wardrobe.splice(index,1);
      localStorage.setItem("wardrobe",JSON.stringify(wardrobe));
      renderWardrobe();
    };

    card.appendChild(img);
    card.appendChild(del);
    wardrobeGrid.appendChild(card);
  });
}

function addToCanvas(src){
  const img=document.createElement("img");
  img.src=src;
  img.style.top="40%";
  img.style.left="40%";
  makeDraggable(img);
  canvas.appendChild(img);
}

function makeDraggable(el){
  let isDragging=false,offsetX,offsetY;
  el.onmousedown=(e)=>{
    isDragging=true;
    offsetX=e.clientX-el.offsetLeft;
    offsetY=e.clientY-el.offsetTop;
  };
  document.onmousemove=(e)=>{
    if(!isDragging) return;
    el.style.left=e.clientX-offsetX+"px";
    el.style.top=e.clientY-offsetY+"px";
  };
  document.onmouseup=()=>isDragging=false;
}

fileInput.onchange=(e)=>{
  const files=e.target.files;
  for(let file of files){
    const reader=new FileReader();
    reader.onload=(event)=>{
      wardrobe.push(event.target.result);
      localStorage.setItem("wardrobe",JSON.stringify(wardrobe));
      renderWardrobe();
      addToCanvas(event.target.result);
    };
    reader.readAsDataURL(file);
  }
};

function saveOutfit(){
  savedOutfits.push(canvas.innerHTML);
  localStorage.setItem("outfits",JSON.stringify(savedOutfits));
  renderOutfits();
  alert("Образ сохранён!");
}

function renderOutfits(){
  outfitGrid.innerHTML="";
  savedOutfits.forEach(html=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=html;
    outfitGrid.appendChild(card);
  });
}

renderWardrobe();
renderOutfits();

</script>

</body>
</html>
